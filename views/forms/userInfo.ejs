<div class="container profile">
    <div class="row">
        <div class="col-md-6">
            <div class="col-md-12" style="font-size: 15px;">User Info
                <hr>
                <% if(user.profilePic) { %>
                <img style="border-radius: 10px;" src="<%= user.profilePic %>" alt="profile pic">
                <% } else { %>
                <img style="border-radius: 20px;" src="./images/595865.jpg" alt="profile pic">
                <% } %>
                <hr>
                <div class="col">Username : <%= user.username %></div>
                <hr>
                <div class="col">Name : <%= user.firstname %></div>
                <div class="col">Surname :<%= user.lastname %></div>
                <div class="col">Age : <%= user.age %></div>
                <div class="col">Email : <%= user.email %></div>
                <div class="col">Gender : <%= user.gender %></div>
                <hr>
                Preference
                <div class="col"><%= user.preference %></div>
                <hr>
                Hobbies
                <div class="col"><%= user.hobby %></div>
                <hr>
                Interest
                <div class="col"><%= user.interest %></div>
                <hr>
                Languages
                <div class="col"><%= user.language %></div>
                <hr>
                Nationality
                <div class="col"><%= user.nationality %></div>
                <hr>
                Country Of Residence
                <div class="col"><%= user.countryOfResidence %></div>
                <hr>
            </div>
        </div>
        <div class="col-md-6">
            <div class="col-md-12">
                <%= user.username %>'s Matches
                <hr>
            </div>
        </div>
        <form action="/location">
            <input type="text" class="form-control" name="longitude" id="longitude" hidden />
            <input type="text" class="form-control" name="latitude" id="latitude" hidden />
        </form>
    </div>
</div>
<script>
    function currPosition(position) {
        const lng = position.coords.longitude;
        const lat = position.coords.latitude;
        console.log(`Longitude: ${lng} | Latitude: ${lat}`);
        document.getElementById("longitude").value = lng;
        document.getElementById("latitude").value = lat;
    }
    function localNotRecieved(error) {
        switch (error.code) {
            case 1:
                break;
            case 2:
                break;
            case 3:
                break;
        }
        console.log(error);
    }
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(currPosition, localNotRecieved, {
            maximumAge: 1500000, timeout: 5000
        });
        const watcher = navigator.geolocation.watchPosition(currPosition, localNotRecieved);
        setTimeout(() => {
            navigator.geolocation.clearWatch(watcher);
        }, 15000);
    }
    else {
        console.log('Geolocation not supported by browser');
    }
</script>